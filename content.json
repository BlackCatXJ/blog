{"pages":[],"posts":[{"title":"Anaconda的常用命令与安装","text":"本文主要介绍的了anaconda的常用命令与不同平台的安装方式","link":"/blog/2018/11/30/Anaconda的常用命令与安装/"},{"title":"SSH远程登录","text":"本文主要介绍了SSH的在远程登录方面的原理和应用。 1. SSH概要介绍 概述Secure Shell（安全外壳协议，简称SSH）是一种加密的网络传输协议，可在不安全的网络中为网络服务提供安全的传输环境。 SSH通过在网络中建立安全隧道（英语：secure channel）来实现SSH客户端与服务器之间的连接。虽然任何网络服务都可以通过SSH实现安全传输，SSH最常见的用途是远程登录系统，人们通常利用SSH来传输命令行界面和远程执行命令。使用频率最高的场合类Unix系统，但是Windows操作系统也能有限度地使用SSH。 在设计上，SSH是Telnet和非安全shell的替代品。Telnet和Berkeley rlogin（英语：rlogin）、rsh、rexec（英语：Remote Process Execution）等协议采用明文传输，使用不可靠的密码，容易遭到监听、嗅探和中间人攻击[4]。SSH旨在保证非安全网络环境（例如互联网）中信息加密完整可靠。 密钥管理在类Unix系统中，已许可登录的公钥通常保存在用户 /home 目录的 ~/.ssh/authorized_keys 文件中，该文件只由SSH使用。当远程机器持有公钥，而本地持有对应私钥时，登录过程不再需要手动输入密码。另外为了额外的安全性，私钥本身也能用密码保护。 私钥会保存在固定位置，也可以通过命令行参数指定（例如ssh命令的“-i”选项）。ssh-keygen是生成密钥的工具之一。 SSH也支持基于密码的身份验证，此时密钥是自动生成的。若客户端和服务端从未进行过身份验证，SSH未记录服务器端所使用的密钥，那么攻击者可以模仿服务器端请求并获取密码，即中间人攻击。但是密码认证可以禁用，而且SSH客户端在发现新密钥或未知服务器时会向用户发出警告。 SSH的安全验证在客户端来看，SSH提供两种级别的安全验证。 第一种级别（基于密码的安全验证），知道帐号和密码，就可以登录到远程主机，并且所有传输的数据都会被加密。但是，可能会有别的服务器在冒充真正的服务器，无法避免被“中间人”攻击。 第二种级别（基于密钥的安全验证），需要依靠密钥，也就是你必须为自己创建一对密钥，并把公有密钥放在需要访问的服务器上。客户端软件会向服务器发出请求，请求用你的密钥进行安全验证。服务器收到请求之后，先在你在该服务器的用户根目录下寻找你的公有密钥，然后把它和你发送过来的公有密钥进行比较。如果两个密钥一致，服务器就用公有密钥加密“质询”（challenge）并把它发送给客户端软件。从而避免被“中间人”攻击。 在服务器端，SSH也提供安全验证。 在第一种方案中，主机将自己的公用密钥分发给相关的客户端，客户端在访问主机时则使用该主机的公开密钥来加密数据，主机则使用自己的私有密钥来解密数据，从而实现主机密钥认证，确保数据的保密性。 在第二种方案中，存在一个密钥认证中心，所有提供服务的主机都将自己的公开密钥提交给认证中心，而任何作为客户端的主机则只要保存一份认证中心的公开密钥就可以了。在这种模式下，客户端必须访问认证中心然后才能访问服务器主机。 摘自维基百科 Secure Shell 2. SSH登录远程服务器由于macOS和linux都提供了SSH，可以直接从终端进行操作 2.1 基于密码的安全验证假定要以用户名user，登录远程主机host 1$ ssh user@host 如果本地用户名和服务器用户名一致的话，可以省略用户名 1$ ssh host SSH的默认端口是22，登录请求会默认请求远程主机的22号端口。可以通过p参数来制定连接的端口号 1$ ssh -p 8888 user@host 登录过程如下图所示 首次登录如果你是第一次登录对方主机，系统会出现下面的提示： 这段话的意思是，无法确认host主机的真实性，只知道它的公钥指纹，问你还想继续连接吗？ 所谓”公钥指纹”，是指公钥长度较长（这里采用RSA算法，长达1024位），很难比对，所以对其进行MD5计算，将它变成一个128位的指纹。 很自然的一个问题就是，用户怎么知道远程主机的公钥指纹应该是多少？回答是没有好办法，远程主机必须在自己的网站上贴出公钥指纹，以便用户自行核对。 假定经过风险衡量以后，用户决定接受这个远程主机的公钥。 1Are you sure you want to continue connecting (yes/no)? yes 系统会出现一句提示，表示host主机已经得到认可，并被添加至kown hosts列表里 1Warning: Permanently added '39.107.85.55' (ECDSA) to the list of known hosts. 然后，会要求输入密码。 1root@39.107.85.55's password: 如果密码正确，就可以成功登录了。 known_hosts文件每个SSH用户都有自己的known_hosts文件，当远程主机的公钥被接受以后，它就会被保存在文件$HOME/.ssh/known_hosts之中。下次再连接这台主机，系统就会认出它的公钥已经保存在本地了，从而跳过警告部分，直接提示输入密码。 下图为用户目录下的known_hosts文件，可以看到刚才登录的服务器信息已经添加到了文件中。 2.2 基于密钥的安全验证用户将自己的公钥储存在远程主机上。登录的时候，远程主机会向用户发送一段随机字符串，用户用自己的私钥加密后，再发回来。远程主机用事先储存的公钥进行解密，如果成功，就证明用户是可信的，直接允许登录shell，不再要求密码 .ssh 文件夹说明在用户目录的home目录下，有一个.ssh的目录，和当前用户ssh配置认证相关的文件，几乎都在这个目录下。主要有以下相关文件 authorized_keys：存放远程免密登录的公钥,主要通过这个文件记录多台机器的公钥 id_rsa：生成的私钥文件 id_rsa.pub：生成的公钥文件 know_hosts：已知的主机公钥清单 文件的权限为了让私钥文件和公钥文件能够在认证中起作用，请确保权限正确。 对于.ssh 以及父文件夹，当前用户用户一定要有执行权限，其他用户最多只能有执行权限。 对于公钥和私钥文件也是: 当前用户一定要有执行权限，其他用户最多只能有执行权限。 对于利用公钥登录，对其他用户配置执行权限是没有问题的。但是对于git，公钥和私钥, 以及config等相关文件的权限，其他用户不可有任何权限。 ssh-keygen 生成的文件名和文件位置ssh-keygen 可用来生成ssh公钥认证所需的公钥和私钥文件。 使用 ssh-keygen 时，请先进入到 ~/.ssh 目录，不存在的话，请先创建。并且保证 ~/.ssh 以及所有父目录的权限不能大于 711 使用 ssh-kengen命令 会在~/.ssh/目录下生成两个文件 不指定文件名和密钥类型的时候，默认生成的两个文件是： id_rsa id_rsa.pub 第一个是私钥文件，第二个是公钥文件。 生成ssh key的时候，不指定参数如下图所示 1$ ssh-keygen 默认生成种类为RSA的密钥对 默认文件名为id_rsa 密钥对默认保存地址为/user_home_path/.ssh/ ssh-keygen 命令参数说明可以通过man ssh-keygen来查询该命令的全参数说明 下面对常见的参数进行说明 1$ ssh-keygen -t rsa -C \"your_email@example.com\" -t dsa | ecdsa | ed25519 | rsa Specifies the type of key to create. The possible values are “dsa’’, “ecdsa’’, “ed25519’’, or “rsa’’. -C comment Provides a new comment. -f filename Specifies the filename of the key file. 远程免密登录同一本地服务器的，地址为localhost，不用重写IP 如果希望ssh公钥生效需满足至少下面两个条件： .ssh目录的权限必须是700 .ssh/authorized_keys文件权限必须是600 将公钥发送给远程服务器有如下几种方式 1. 通过ssh-copy-id的方式1$ ssh-copy-id -i ~/.ssh/id_rsa.pub user@host -i identity_file Use only the key(s) contained in identity_file (rather than looking for identities via ssh-add(1) or in the default_ID_file). If the filename doesnot end in .pub this is added. If the filename is omitted, the default_ID_file is used. Note that this can be used to ensure that the keys copied have the comment one prefers and/or extra options applied, by ensuring that the key file has these set as preferred before the copy is attempted. 不输入-i默认为.ssh/id_rsa.pub 2. 通过scp将内容写到对方的文件中1$ scp -p ~/.ssh/id_rsa.pub user@host:/user_home_path/.ssh/authorized_keys 也可以分两步进行 12345//将文件拷贝至远程服务器$ scp ~/.ssh/id_rsa.pub user@host:pub_key //将内容追加到authorized_keys文件中， 不过要登录远程服务器来执行这条命令$ cat ~/pub_key &gt;&gt; ~/.ssh/authorized_keys 3. 手工复制粘贴的方式将本地id_rsa.pub文件的内容拷贝至远程服务器的~/.ssh/authorized_keys文件中 4. 通过Ansible实现批量免密(未验证)4.1 将需要做免密操作的机器hosts添加到/etc/ansible/hosts下： 1234567[Avoid close]192.168.91.132192.168.91.133192.168.91.134 4.2 执行命令进行免密操作 1ansible &lt;groupname&gt; -m authorized_key -a \"user=root key='{{ lookup('file','/root/.ssh/id_rsa.pub') }}'\" -k 示例： 12345678910111213[root@test sshpass-1.05]# ansible test -m authorized_key -a \"user=root key='{{ lookup('file','/root/.ssh/id_rsa.pub') }}'\" -k SSH password: -----&gt;输入密码 192.168.91.135 | success &gt;&gt; { \"changed\": true, \"key\": \"ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEArZI4kxlYuw7j1nt5ueIpTPWfGBJoZ8Mb02OJHR8yGW7A3izwT3/uhkK7RkaGavBbAlprp5bxp3i0TyNxa/apBQG5NiqhYO8YCuiGYGsQAGwZCBlNLF3gq1/18B6FV5moE/8yTbFA4dBQahdtVP PejLlSAbb5ZoGK8AtLlcRq49IENoXB99tnFVn3gMM0aX24ido1ZF9RfRWzfYF7bVsLsrIiMPmVNe5KaGL9kZ0svzoZ708yjWQQCEYWp0m+sODbtGPC34HMGAHjFlsC/SJffLuT/ug/hhCJUYeExHIkJF8OyvfC6DeF7ArI6zdKER7D8M0SM WQmpKUltj2nltuv3w== root@localhost.localdomain\", \"key_options\": null, \"keyfile\": \"/root/.ssh/authorized_keys\", \"manage_dir\": true, \"path\": null, \"state\": \"present\", \"unique\": false, \"user\": \"root\" }","link":"/blog/2018/11/20/SSH远程登录/"},{"title":"Tensorfolow环境的安装","text":"本文主要介绍的了Tensorflow的安装和配置。","link":"/blog/2018/11/30/Tensorfolow环境的安装/"},{"title":"环境变量的原理和配置","text":"本文主要介绍了环境变量实现的原理以及相应的配置方式。","link":"/blog/2018/11/30/环境变量的原理和配置/"},{"title":"常用编程英文缩写","text":"本文主要介绍了常用的编程命名规范 Word(s) Abbreviation abbreviate/abbreviation abrv academic acad accept/acceptance/accepted acpt access accs accident acdnt accomplish/accomplishment/accomplishments acmp account* acct* accounting* acctg* accounts/payable/advanced/placement ap accounts/receivable ar accredited acrd accrual acrl accumulated* accum* accumulation/accumulative acum achieve/achievement achv acquisition* acq* act/active/activity/american/college/test act action* actn* actual actl add/added add additional* addl* address* addr* ad/hoc adhc adjudicate/adjudicated/adjudication adjd adjusted/gross/income agi adjustment* adj* administered/administrated/administration adm admissible/admission adms admittance/admitted admt advanced/placement/accounts/payable ap advice advc affiliation affl after aft age age agency agcy agent agnt aid aid alien aln all all allocate/allocation* alloc* alpha alph alter/alternate alt alumni/alumnus almn am am american/college/test/act/active/activity act amount* amt* analysis anls annual* annl* anonymous anon answer ans apartment apt appeal/appealed apel applicant* app* application* appl* appointment appt approval/approve aprv area area array aray arrears arrs ascending asc assign/assigned/assignment asgn association assc assumption asmp athlete/athletic athl attach atch attempt atmpt attend/attendance atnd attention attn attribute attr audit/audited adt authority/authorize auth auxiliary aux availability/available avl average avg average/cumulative/grade acg award/awarded awrd balance* bal* bank bnk bargain barg base/basic bas batch btch before bef begin/beginning begn beginning/of/term bot benefits ben bid bid bill/billing bill billing/and/receivables/system brs birth brth board brd break brk budget/budgetable bud budget/balance/account bba build/building bld business bus business/unit* bu* buy/buyer buy calculate/calculated/calculation* calc* calendar* cal* call call campaign cmpn campus cmps cancel/canceled can capacity cap capitalization cplz card crd career car carrier crir cartridge cart case cse cash csh catalog ctlg category* catg* census cens center ctr certificate/certification cert change/changed chg chapter chap charge crg chartfield chartf check/checked chk citizen/citizenship ctzn city cty class clas clear/cleared clr clep clep close clo club clb cobra* cbr* code* cd* collect/collection clct college colg column clmn combination/combine comb command cmd comment cmt committee cmmttee company* co* comparative* compa* competitor cptr complete/completion/compliance cmpl component cmpt composite/compensation comp conditional cond confidential cnfd confirm/confirmation* conf* constant cnst cst contact ctct continue/continuing/continuous cont contract/contractor cntr control* cntl* conversation* convr* conversion/convert/converted cnv* correspondence crsp cost cost count/counter cnt country ctry county cnty course* crse* coverage* covrg* create cre credential crdl credit* cr* crdt cref cref cross crs cross/list/cross/listed xlst cross/reference xref cumulative cum currency* curr* current* cur* cursor crsr custodian cstn customer* cust* daily dly data data data/processing dp date* dt* date-time/stamp dttm day* dd dy dead/death/deceased dead debit* dr* decimal dec deduct/deduction* ded* default* dflt* deficit dfct definition* defn* degree deg delete del deliver/delivery dlvr demo dmo dental dntl department* dept* department/of/motor/vehicles dmv dependency/dependent*/depends dep* deposit dpst depreciation* depr* description* descr* dsc design dsgn destination* dest* detail* detl* develop/development/deviation dev difference/differential diff digit dgt direct/direction/directional dir disability/disabled disa disbursed/disbursement dsb discount* disc* displacement dspl display disp disposition dsp distribute/distribution* dist* district dstr division div division/of/continuing/education dce document doc donor donr down dn drive/driver drv drop drp due due duplicate*/duplication dup* each ea early erly earn/earned/earnings* earn* earned/income/credit eic educate/education edu effect/effective* eff* effective/date* effdt* effective/date/sequence* effseq* effort efrt elect/elected/elective elct electronic/data/interchange edi electronic/funds/transfer eft electronic/mail em eligibility*/eligible elig* emergency emrg emphasis emph employee* ee* empl employee/id* emplid* employer* er* employment emplmt encumber/encumbrance encb end/ending end end/of/term eot endorse/endorsement endr endorsement endr endow/endowment endw engineer/engineering engn english engl enrichment enrch enrollment enrl enter/entered/entry entr entitle/entitlement entl equal/equality/equivalence/equivalent eq equal/employment/opportunity/equal/opportunity eeo equip eqp error err establishment estb ethnic ethn evaluation/evaluator eval event evnt exam exm exception excp exclude/exclusion excl execute/execution exec exempt/exemption exmt expect/expected expc expected/family/contribution efc expedite xpdt expense/export/express exp experimental expm expiration/expire expr export/expense exp extend/extended/extension ext external extr facility fclt faculty fac family fmly family/eduaction/rights/and/privacy/act ferpa fast fst father fath federal fed federal/labor/and/security/act flsa fee fee feet/full/time ft fica fica field/fields fld file file final fnl financial* fin* financial/aid fa fine fine first frst fiscal fisc fiscal/year fy fiscal/year/to/date fytd fix/fixed fix flag flg sw flexible/spending/account fsa floor flr for for foreign fgn foreign/key fk form frm format fmt former formr free free free/application/for/federal/student/aid fafsa free/on/board fob freeze/frozen frz frequency* freq* fresh/freshman frsh from fr fulfill/fulfilled fulf full/time ft full/time/equivalent fte function/functional fcn fund/funding fund future fut garnishment* garn* general genl general/education/degree ged general/ledger gl geographic/geography geog gift gft global glbl government govt grade gde grd grade/point/average gpa graduate grad grant/granted grnt gross gros group grp guarantee guar guaranteed/student/loan gsl guest gst handicap/handicapped hand head head header* hdr* health hlth held/hold hld help hlp hierarchy hier high h high/school hs high/school/services hss higher/education hed highway hway hire hire history hst home hm honor honr honor/society hsc hospital hosp hour hh hourly hrly hours* hrs* house/housing hse how how human/resources hr human/resource/system hrs identification/identifier*/indicator id* image img immune/immunization imun impact impc implementation impl import imp import/export impexp inch in include incl income incm increase/increment incr index indx indicator id ind individual indv individual/student/information/report isir information info initial/initialize init injury* inj* inoculation inoc input inpt inquiry inq insert isrt institution inst instruction/instructional/instructor istr instructional/need/analysis/system inas insurance ins inter-unit* iu* interest int interface* intfc* internal intr international intl interval invl interview/interviewer intv invent invn inventory inv investment* invest* invitation/invite invt invoice invc issue/issued iss item itm job job journal* jrnl* junior jr junior/science js key key label lbl labor lbr laboratory lab language lng last/list lst late late latitude lat layoff layf leave lv lecture lctr ledger* led* legal lgl lender lndr length* len* letter ltr level lvl liaison lisn liberal/education lbd library lib license lic license/plate/number lic_plte_nbr life life limit* lim* line*/loan ln* link/linked lnk liquid liq list/last lst literal ltrl load load loan/line* ln locate/location* loc* lock lk locker lkr log log log/on logon long/longest long long/term/care ltc long/term/disability ltd longitude lon lot lot low low mail/mailer/mailing mail maintenance* maint* major mjr make mk manager mgr map map marital mrtl message/agent/server mas mask msk master/academic/records/system mars match/matching mtch math mth matriculated/matriculation mtrc maximum* max* medical/medicinal med meet/meeting mt member mbr membership mshp memo/memorandum mmo memorial memr merchandise merchnds merchant merch merit mert message/messages* msg* meter mtr method meth microfilm mfilm middle mid military mil minimum* min* minor minr minute mnt mm miscellaneous misc mode mde modification/modifier mod monetary/money mony month* mm mn month-to-date* mtd* more more mother moth move move multiple mult name nm nme national natl national/student/loan/direct/system nslds navigation nav new new next nxt next/of/kin nok no/charge nc no/credit nocr no/print nprt nominal nom non non non-personal/services nps not not not/applicable na note/notice/notification/notify note number*/numeric nbr* object/objective obj occupation ocp occurs occ offer/offered offr office offc officer ofcr official ofcl old old online onln open opn operator* opr* option/optional/options opt order ordr organization/organize org orientation ornt origin/original/origination orig other othr out out over ovr overhead oh override ovrd overtime ot own/owned own owner ownr packaged pack paid paid paper ppr parameter* parm* parent par parity/priority prty park prk part/partial prt part/time pt participation prtp pass/passed pass past past patron ptrn pay/payable/payment pay payroll pyrl pedestrian ped pell/(pell/grant) pel pending pend pension pens percent*/percentage/percentile pct* period* pd* period-to-date* ptd* perkins/loan nslds permanent perm permit prmt person pers personal/personnel psnl personal/identification pin personnel/action/notification pan phone phn physics phys place plce plan pln plate plte pledge pldg pm pm point pnt policy plcy position* posn* post/posted post postal pstl potential potn predicted pred preference/preferred pref prefix prfx premium prem prerequisite preq prescribed pscr presentation prst president pres previous/prior prev price prc price/level pl primary prim primary/key pk principal/principle prin principal/investigator pi print/printed prn prior/previous prev priority/parity prty probation/problem prob procedure/process proc profession/professional prfs proficiency prfc profile* prof* program prog project/projected proj promissory prms promotion prom proposal prps prospect prsp province prvn purchase pur purchase/order po purge prg purpose purp qualitative/quality qal quantitative/quantity* qty* quantity-to-date/quarter-to-date* qtd* quarter qtr question qstn race race range rng rank rnk rate* rt* read/reading read real/reallocation real reason* rsn* recall rcl receipt rcpt receive/received* recv* receiver rcvr recharge rchg recognition/recognize recg recommend rcmd reconciliation* recon* record* rec* recreate/recreation recr recruit/recruiting rcrt reduce/reduced/reduction* red* refer/reference*/referral/referred ref* refund rfnd regional rgnl registrar regr registration reg reject/rejection rjct relate/relation/relationship rlat release rlse religion/religious relg remaining rmng reminder rmdr renewal rnwl repeat/repeatable/repeated rept replace/replaced repl reply rply report* rpt* request/requested/require/required/requisition* req* requirements* rqmt* research res reserve/reserved rsrv reserve/officers/training/corps rotc residence/residency/resident rsdt resign rsgn resource rsrc response resp restart rst restock rstk restrict/restricted/restrictions rstr result rslt retire/retirement ret* retroactive retr return rtn revenue rev review rvw revision revs revoke revk roll rl roll/up rlup room rm route rout row row rsvp rsvp run run run/control runctl salary* sal* sale sale salutation sltn same sm save save scale scal schedule*/scheduled/scheduling sched* scholar/scholarship schlr scholastic/school schl scholastic/aptitude/test sat science sci score scr screen scrn search srch second scnd ss section sctn secure/security* sec* segment seg select*/selection/selective sel* semester sem semi/finalist semf senate/senator sen send snd senior sr sent snt separate sepr sequence* seq* serial serl service serv session* sessn* sex sex sharing shr sheet shet shelter shlt shift shft shipping ship short shrt sign sgn simulated sim site site size sz skill skl skip skp social/society soc social/security/number ssn soft sft solid slid sophomore soph sort srt source src special/specialty spcl specific/specification spec sponsor/sponsored spon sports sprt spouse spse square sq stack stck staff stf stage stg stamp stmp standard std standard/deviation stdv start/starting strt state st statement stmt static stc statistics* stat* status sts step stp stipend stpd stock stk stop stop street str string strg structure strc student stu student/academic/records sar student/credit/hour sch study stdy subcampaign scmp subject subj subordinate sub subsidiary subs suffix sfx summation/summary* sum* supervisor*/support sup* supplement/supplemental* supl* survey srvy suspense susp suspn switch flg sw system sys table/tables tbl taken tkn tape tape target trgt taught tght tax/taxable tx tax/id/number tin team team temperature temp template* tmpl* temporary tmp tenure tenr term trm terminal trml terminate trmt test tst text txt thermidor therm tiaa tiaa ticket tkt time tm time/keeping tmkp time-stamp ts title titl today tdy total* tot* tour tour town cty track/tracking trk traditional trad training* trn* transact/transaction* trans* transcript tscp transfer* xfer* translate/translation xlt transmit/transmittal xmit travel trvl tuition* tuit* type typ undergraduate ugrd unemployment unempl unit unit unit/of/measure* uom* universal unvrsl university univ unpaid unpd unsecure/unsecured unsec up/to max update/updated updt upper upr us/department/of/education usde use/used use user usr vacation* vacn* valedictorian vldc valid/validate/validation vld value val variable var vehicle* veh* vendor vend verbal vrbl verify/verified verf veteran vet vice/president vp violation vio visa visa visit vst voucher vchr w2 w2 w4 w4 w9 w9 waived wved week/work/worked/worker(s) wk width wid with w withdrawal wdrl withhold/withholding whld women wmn worksheet wkst write/written wrt year* yr yy year-to-date* ytd* zip zip zone zn","link":"/blog/2018/12/07/常用编程英文缩写/"}],"tags":[{"name":"Python","slug":"Python","link":"/blog/tags/Python/"},{"name":"Anaconda","slug":"Anaconda","link":"/blog/tags/Anaconda/"},{"name":"Unfinished","slug":"Unfinished","link":"/blog/tags/Unfinished/"},{"name":"SSH","slug":"SSH","link":"/blog/tags/SSH/"},{"name":"Tensorflow","slug":"Tensorflow","link":"/blog/tags/Tensorflow/"}],"categories":[{"name":"环境配置","slug":"环境配置","link":"/blog/categories/环境配置/"},{"name":"Linux","slug":"Linux","link":"/blog/categories/Linux/"},{"name":"工程规范","slug":"工程规范","link":"/blog/categories/工程规范/"}]}